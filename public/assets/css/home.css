/* CSS riêng cho trang Home - sidebar và topbar đã được load từ shared.css */

/* Chart Colors riêng cho Home */
:root {
  --chart-temp-color: #1998b8;
  --chart-temp-bg: rgba(255, 107, 107, 0.1);
  --chart-humi-color: #e983db;
  --chart-humi-bg: rgba(78, 205, 196, 0.1);
  --chart-light-color: #e7702b;
  --chart-light-bg: rgba(69, 183, 209, 0.1);
  
  /* Chart UI */
  --chart-tooltip-bg: rgba(0, 0, 0, 0.8);
  --chart-tooltip-border: rgba(255, 255, 255, 0.2);
  --chart-grid-color: rgba(0, 0, 0, 0.05);
  --chart-text-color: #666;
}

.dashboard{ 
  display:flex; 
  flex-direction:column; 
  gap:20px; 
}

.cards-row{ 
  display:flex; 
  gap:20px; 
  justify-content:center; 
}

.card{ 
  min-width:220px; 
  padding:18px; 
  border-radius:var(--radius); 
  color:#fff; 
  text-align:center; 
  box-shadow:0 10px 30px rgba(0,0,0,.12); 
  position: relative;
  overflow: hidden;
  transform: translateY(0);
  transition: transform .25s ease, box-shadow .25s ease, filter .25s ease;
}

.card::after{
  content:'';
  position:absolute;
  inset:0;
  background: radial-gradient(120px 120px at 10% -10%, rgba(255,255,255,.45), rgba(255,255,255,0)),
              radial-gradient(160px 120px at 110% 10%, rgba(255,255,255,.18), rgba(255,255,255,0));
  pointer-events:none;
}

.card:hover{ 
  transform: translateY(-4px);
  box-shadow:0 16px 40px rgba(0,0,0,.18);
  filter: saturate(1.05);
}

.card-emoji{ 
  font-size:22px; 
  margin-bottom:6px; 
  filter: drop-shadow(0 6px 10px rgba(0,0,0,.18));
}

/* Icon sizes for PNG icons */
.icon-20{ width:20px; height:20px; display:inline-block; }
.icon-24{ width:24px; height:24px; display:inline-block; }

/* Make fan icon larger without affecting others */
.control-pill.device-fan .ctrl-left img{ width:40px; height:40px; }
/* Make AC icon larger without affecting others */
.control-pill.device-ac .ctrl-left img{ width:40px; height:40px; }

/* ===== DEVICE ICON ANIMATIONS (Controls) ===== */
.control-pill .ctrl-left{
  font-size:20px;
  transition: transform .2s ease, filter .2s ease;
}

/* Điều hòa (AC) – hiệu ứng thổi gió (không quay) */
.control-pill.device-ac .ctrl-left{ position: relative; }
.control-pill.device-ac.on .ctrl-left{
  animation: acNudge 1.2s ease-in-out infinite;
  filter: drop-shadow(0 0 12px rgba(100,200,255,.8)) drop-shadow(0 0 6px rgba(255,255,255,.6));
  text-shadow: 0 0 8px rgba(100,200,255,.9);
}
.control-pill.device-ac.on .ctrl-left::after{
  content: '';
  position: absolute;
  left: calc(100% + 6px);
  top: 50%;
  transform: translateY(-50%);
  width: 56px;
  height: 16px;
  pointer-events: none;
  background: repeating-linear-gradient(
    0deg,
    rgba(100,200,255,0) 0 3px,
    rgba(100,200,255,.7) 3px 5px
  );
  filter: blur(0.8px) saturate(1.1);
  opacity: .85;
  border-radius: 8px;
  animation: windSweep 1.2s linear infinite;
}

.control-pill.device-ac.on {
  position: relative;
  overflow: hidden;
}

.control-pill.device-ac.on::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(100,200,255,.15), transparent);
  animation: coolingFlow 2s ease-in-out infinite;
  z-index: 1;
}

@keyframes acNudge{
  0%{ transform: translateX(0); }
  50%{ transform: translateX(2px); }
  100%{ transform: translateX(0); }
}

@keyframes coolingFlow{
  0%{ left: -100%; }
  50%{ left: 100%; }
  100%{ left: 100%; }
}

@keyframes windSweep{
  from{ background-position: 0 0; }
  to{ background-position: 60px 0; }
}

/* Đèn – phát sáng nhịp nhàng */
.control-pill.device-light.on .ctrl-left{
  animation: glow 1.2s ease-in-out infinite alternate;
  text-shadow: 0 0 8px rgba(255,255,200,.9), 0 0 16px rgba(255,200,0,.8), 0 0 24px rgba(255,180,0,.6);
  transform: scale(1.3);
}

.control-pill.device-light .ctrl-left{
  font-size: 24px;
  transition: transform .2s ease, filter .2s ease;
}

@keyframes glow{
  0%{ 
    filter: brightness(1) drop-shadow(0 0 8px rgba(255,220,120,.7)) drop-shadow(0 0 16px rgba(255,200,0,.5));
    text-shadow: 0 0 8px rgba(255,255,200,.9), 0 0 16px rgba(255,200,0,.8), 0 0 24px rgba(255,180,0,.6);
  }
  100%{ 
    filter: brightness(1.4) drop-shadow(0 0 16px rgba(255,220,120,.9)) drop-shadow(0 0 24px rgba(255,200,0,.8));
    text-shadow: 0 0 12px rgba(255,255,200,1), 0 0 24px rgba(255,200,0,.9), 0 0 32px rgba(255,180,0,.7);
  }
}

/* Quạt – xoay cánh quạt */
.control-pill.device-fan.on .ctrl-left{
  animation: fanRotate 1.2s linear infinite;
  filter: drop-shadow(0 0 10px rgba(0,150,255,.7)) drop-shadow(0 0 4px rgba(255,255,255,.5));
  text-shadow: 0 0 6px rgba(0,150,255,.8);
}

@keyframes fanRotate{
  from{ transform: rotate(0deg) scale(1); }
  50%{ transform: rotate(180deg) scale(1.02); }
  to{ transform: rotate(360deg) scale(1); }
}

.card-title{ 
  font-weight:700; 
}

.card-value{ 
  font-size:18px; 
  font-weight:700; 
}

/* Hiệu ứng đổi màu khi nhiệt độ thay đổi */
.card-value.value-up{
  animation: flashUp .9s ease;
}

.card-value.value-down{
  animation: flashDown .9s ease;
}

@keyframes flashUp{
  0%{ color:#ffffff; text-shadow:none; }
  20%{ color:#7CFF7C; text-shadow:0 0 10px rgba(124,255,124,.9); }
  60%{ color:#cfffce; text-shadow:0 0 6px rgba(124,255,124,.5); }
  100%{ color:#ffffff; text-shadow:none; }
}

@keyframes flashDown{
  0%{ color:#ffffff; text-shadow:none; }
  20%{ color:#FF7C7C; text-shadow:0 0 10px rgba(255,124,124,.9); }
  60%{ color:#ffd0d0; text-shadow:0 0 6px rgba(255,124,124,.5); }
  100%{ color:#ffffff; text-shadow:none; }
}

.card-temp{ 
  background:linear-gradient(135deg,#79a7d3 0%, #6e8fbf 50%, #6a86b8 100%);
  backdrop-filter: blur(6px);
}

.card-humi{ 
  background:linear-gradient(135deg,#dba7e9 0%, #c78bd6 50%, #b87ec8 100%);
  backdrop-filter: blur(6px);
}

.card-light{ 
  background:linear-gradient(135deg,#f3a65c 0%, #f0974a 50%, #ee8b3b 100%);
  backdrop-filter: blur(6px);
}

/* Loading state for card values */
.card.loading .card-value{
  position: relative;
  color: rgba(255,255,255,.85);
}

.card.loading .card-value::after{
  content: '';
  position: absolute;
  left: 50%;
  top: calc(100% + 8px);
  width: 84px;
  height: 8px;
  transform: translateX(-50%);
  border-radius: 6px;
  background: linear-gradient(90deg, rgba(255,255,255,.25), rgba(255,255,255,.45), rgba(255,255,255,.25));
  background-size: 200% 100%;
  animation: shimmer 1.2s infinite;
}

@keyframes shimmer{
  0%{ background-position: 200% 0; }
  100%{ background-position: -200% 0; }
}

.table-panel{ 
  width:100%; 
  background:#fff; 
  border-radius:var(--radius); 
  padding:20px; 
  box-shadow:var(--shadow); 
  border:1px solid rgba(0,0,0,0.04); 
}

.content-row{ 
  display:flex; 
  gap:20px; 
}

.chart-panel{ 
  flex:1; 
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius:var(--radius); 
  padding:25px; 
  box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);
  position: relative;
  overflow: hidden;
}

.chart-panel::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border-radius: var(--radius);
  z-index: 1;
}

.chart-panel canvas {
  position: relative;
  z-index: 2;
}

.controls-col{ 
  width:160px; 
  display:flex; 
  flex-direction:column; 
  gap:18px; 
}

.control-pill{ 
  background:#fff; 
  border-radius:var(--radius); 
  padding:12px; 
  display:flex; 
  justify-content:space-between; 
  align-items:center; 
  box-shadow:var(--shadow); 
}

/* Toggle */
.toggle{ 
  display:flex; 
  align-items:center; 
  gap:10px; 
  cursor:pointer; 
  user-select:none; 
}

.toggle-track{ 
  width:52px; 
  height:28px; 
  border-radius:999px; 
  background:#f0c6c6; 
  position:relative; 
  transition:background .2s; 
}

.toggle-thumb{ 
  width:22px; 
  height:22px; 
  border-radius:50%; 
  background:#d9534f; 
  position:absolute; 
  top:3px; 
  left:3px; 
  transition:left .2s, background .2s; 
}

.toggle.on .toggle-track{ 
  background:#c6f0d2; 
}

.toggle.on .toggle-thumb{ 
  left:27px; 
  background:#49b464; 
}

.toggle-label{ 
  font-weight:700; 
  font-size:14px; 
  color:#555; 
}

.chart-panel canvas{ 
  width:100% !important; 
  height:400px !important; 
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.95);
  padding: 15px;
}

/* Responsive riêng cho Home */
@media (max-width:1200px){
  .content-row{ 
    flex-direction:column; 
  }
  .controls-col{ 
    width:100%; 
    flex-direction:row; 
    justify-content:center; 
  }
}


@media (max-width:1000px){
  .cards-row{ 
    flex-direction:column; 
    align-items:center; 
  }
}